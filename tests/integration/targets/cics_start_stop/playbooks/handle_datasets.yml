# (c) Copyright IBM Corp. 2023
# Apache License, Version 2.0 (see https://opensource.org/licenses/Apache-2.0)
---
- name: Provision or Deprovision CICS Catalogs
  hosts: 'all'
  gather_facts: false
  environment: "{{ environment_vars }}"
  module_defaults:
    group/ibm.ibm_zos_cics.region_group:
      state: "{{ state }}"
      cics_data_sets:
        template: "{{ cics_install_path }}.<< lib_name >>"
      region_data_sets:
        template: "{{ region_data_set_path }}.<< data_set_name >>"
  tasks:
    - name: Auxiliary temporary storage data set (DFHTEMP)
      ibm.ibm_zos_cics.auxiliary_temp:
      register: temp_result
    - name: Log output of temp
      ansible.builtin.debug:
        msg: "{{ temp_result }}"
    - name: Auxiliary trace data set (DFHAUXT)
      ibm.ibm_zos_cics.trace:
      register: trace_result
    - name: Log output of trace
      ansible.builtin.debug:
        msg: "{{ trace_result }}"
    - name: Second auxiliary trace data set (DFHBUXT)
      ibm.ibm_zos_cics.trace:
        destination: B
      register: trace_b_result
    - name: Log output of traceB
      ansible.builtin.debug:
        msg: "{{ trace_b_result }}"
    - name: CICS Global Catalog
      ibm.ibm_zos_cics.global_catalog:
      register: global_catalog_result
    - name: Log output of Global Catalog
      ansible.builtin.debug:
        msg: "{{ global_catalog_result }}"
    - name: CICS Local Catalog
      ibm.ibm_zos_cics.local_catalog:
      register: local_catalog_result
    - name: Log output of Local Catalog
      ansible.builtin.debug:
        msg: "{{ local_catalog_result }}"
    - name: CSD data set (DFHCSD)
      ibm.ibm_zos_cics.csd:
      register: csd_result
    - name: Log output of CSD
      ansible.builtin.debug:
        msg: "{{ csd_result }}"
    - name: Local request queue data set (DFHLRQ)
      ibm.ibm_zos_cics.local_request_queue:
      register: lrq_result
    - name: Log output of local request queue data set
      ansible.builtin.debug:
        msg: "{{ lrq_result }}"
    - name: Transient data intrapartition data set (DFHINTRA)
      ibm.ibm_zos_cics.intrapartition:
      register: intra_result
    - name: Log output of intrapartition data set
      ansible.builtin.debug:
        msg: "{{ intra_result }}"
    - name: Transaction dump data set (DFHDMPA)
      ibm.ibm_zos_cics.transaction_dump:
      register: dump_result
    - name: Log output of dump
      ansible.builtin.debug:
        msg: "{{ dump_result }}"
    - name: Second transaction dump data set (DFHDMPB)
      ibm.ibm_zos_cics.transaction_dump:
        destination: B
      register: dump_b_result
    - name: Log output of dumpB
      ansible.builtin.debug:
        msg: "{{ dump_b_result }}"
